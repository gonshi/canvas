!function(a,b,$,c){"use strict";function d(){this._events={}}c=c||{},d.prototype.hasEventListener=function(a){return!!this._events[a]},d.prototype.addEventListener=function(a,b){if(this.hasEventListener(a)){var c,d=this._events[a],e=d.length;for(c=0;e>c;c++)if(d[c]===b)return;d.push(b)}else this._events[a]=[b];return this},d.prototype.removeEventListener=function(a,b){if(this.hasEventListener(a)){for(var c,d=this._events[a],e=d.length;e--;)d[e]===b&&(c=e);return d.splice(c,1),this}},d.prototype.fireEvent=function(a,b){if(this.hasEventListener(a)){var c,d=this._events[a],e=d.length,f=$.merge([],d),g=$.merge([],arguments);for(g.splice(0,2),c=0;e>c;c++)f[c].apply(b||this,g)}},c.EventDispatcher=d,a.canvasNamespace=c}(this,document,jQuery,this.canvasNamespace),function(a,b,$,c){"use strict";function d(a){this.interval=a,this.prevTime=0,this.timer=function(){}}c=c||{},d.prototype.exec=function(a){var b=+new Date,c=b-this.prevTime;clearTimeout(this.timer),c>=this.interval?(this.prevTime=b,a()):this.timer=setTimeout(a,this.interval)},c.Throttle=d,a.canvasNamespace=c}(this,document,jQuery,this.canvasNamespace),function(a,b,$,c){"use strict";function d(){var a=this;c.EventDispatcher.call(a)}function e(){return g||(g=new d),g}c=c||{};var f,g;f=d.prototype.constructor,d.prototype=new c.EventDispatcher,d.prototype.constructor=f,d.prototype.setEvent=function(){var a=this,b=new c.Throttle(250),d=$("#wrapper");$(window).on("load resize",function(){b.exec(function(){a.fireEvent("RESIZE",a,d.width(),d.height())})})},c.ResizeHandler={getInstance:e},a.canvasNamespace=c}(this,document,jQuery,this.canvasNamespace),function(a,b,$,c){"use strict";function d(){h=k.width(),i=k.height(),j.get(0).width=h,j.get(0).height=i}function e(){var a,b=Math.floor(255*Math.random()),c=Math.floor(255*Math.random()),d=Math.floor(255*Math.random());for(this.r=1,this.x=0,this.y=0,this.history_x=[],this.history_y=[],this.velX=0,this.velY=0,this.color="rgba("+b+", "+c+", "+d+", ",this.is_mousedown=!1,a=0;m>a;a++)this.history_x.push(-255),this.history_y.push(-255)}function f(){g.clearRect(0,0,h,i)}c=c||{};var g,h,i,j=$("#canvas"),k=$(window),l=10,m=30;$(function(){function a(){v+=1,u.push(new e)}function b(a){for(i=a+1;v>i;i++)o=u[t].x,p=u[t].y,q=u[t].r,k=u[i].x,m=u[i].y,n=u[i].r,s=(o-k)*(o-k)+(p-m)*(p-m),(q+n)*(q+n)>=s&&(r=u[a].velX,u[a].velX=u[i].velX,u[i].velX=r,r=u[a].velY,u[a].velY=u[i].velY,u[i].velY=r)}function h(){for(f(),u[v].increaseSize(),t=0;v>t;t++)u[t].move(),b(t)}var i,k,m,n,o,p,q,r,s,t,u=[],v=-1,w=c.ResizeHandler.getInstance();j.get(0).getContext&&(g=j.get(0).getContext("2d"),j.on("mousedown",function(a){u[v].x=a.clientX,u[v].y=a.clientY,u[v].is_mousedown=!0}),j.on("mousemove",function(a){u[v].calcVelocity(a.clientX,a.clientY)}),j.on("mouseup",function(){u[v].is_mousedown=!1,a()}),w.addEventListener("RESIZE",function(){d()}),a(),w.setEvent(),setInterval(h,l))}),e.prototype.increaseSize=function(){this.is_mousedown&&(this.r+=1,this.savePosition(),this.draw())},e.prototype.calcVelocity=function(a,b){var c=5;this.is_mousedown&&(this.velX=(a-this.x)/c,this.velY=(b-this.y)/c,this.x=a,this.y=b)},e.prototype.move=function(){this.savePosition(),this.draw(),this.x+=this.velX,this.y+=this.velY,(this.x-this.r<0||this.x+this.r>h)&&(this.velX=-this.velX),(this.y-this.r<0||this.y+this.r>i)&&(this.velY=-this.velY)},e.prototype.savePosition=function(){this.history_x.splice(0,1),this.history_x.push(this.x),this.history_y.splice(0,1),this.history_y.push(this.y)},e.prototype.draw=function(){var a,b;for(a=m-1;a>=0;a--)b=.1*(a+1),g.beginPath(),g.arc(this.history_x[a],this.history_y[a],this.r,0,2*Math.PI,!0),g.fillStyle=this.color+b+")",g.fill()}}(this,document,jQuery,this.canvasNamespace);